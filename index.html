<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="https://xiaobaibub.github.io/e/layer/layer.js"></script>
<title>获取视频分辨率</title>
<style>
  .fileLabel{display: inline-block;width:380px;height: 40px;line-height: 40px;text-align: center;border: 1px solid dodgerblue;border-radius: 5px;background: dodgerblue;cursor: pointer;}
  .fileInput{display: none;}
  .inputcss{width:380px;height: 40px;line-height: 40px;border: 1px solid dodgerblue;border-radius: 5px;background: #F2F2F2;}
</style>
</head>
<body bgcolor="#E3E3E3">
	<div style="height: 120px;">
		<video id="video_id" src="" controls="controls" width="120px" height="120px"></video><br>
	</div>
	<div style="text-align: center;height: 50px;">
		<label class="fileLabel" for="upfiles"><font color='floralwhite'>选择校验视频</font></label>
		<input id="upfiles" type="file" class="fileInput" onchange="getUrl(this.files[0])">
		<div type="button" id="but" onclick="huoQuFenBianLv()" class="fileLabel"><font color='floralwhite'>获取视频分辨率</font></div>
	</div>
	<div style="height: 1px;background-color: #1E90FF;"></div>
	<div id="dataid"></div>
	<div id="login" style="display: none;">
		<form>
			<div style="text-align: center;padding: 10px;">
				<li style="list-style:none;height: 50px;"><input type="text" class="inputcss" id="userName" placeholder="请输入用户名"/></li>
				<li style="list-style:none;height: 50px;"><input type="password" class="inputcss" id="password" placeholder="请输入密码"/></li>
				<div onclick="toLogin()" type="submit" class="fileLabel">登录</div>
			</div>
		</form>
	</div>
</body>
<script type="text/javascript">
$(function(){
	var login = $("#login");
	layer.open({
	  title: '登录',
	  type: 1,
	  closeBtn: 0,
	  area: ['500px', '260px'], //宽高
	  content: login
	});
});
function getUrl(file){
	var url=null
	if(window.createObjectURL!=undefined){ // basic  
	    url=window.createObjectURL(file)  
	}else if(window.URL!=undefined){ // mozilla(firefox)  
	    url=window.URL.createObjectURL(file)  
	} else if(window.webkitURL!=undefined){ // webkit or chrome  
	    url=window.webkitURL.createObjectURL(file)  
	}  
	$("#video_id")[0].src = url;
}
function huoQuFenBianLv(){
	var a = $("#video_id");
	$("#dataid").html("视频分辨率为："+a[0].videoWidth+"*"+a[0].videoHeight+"<font size='4' color='seagreen'><b>✓</b></font>");
}
function toLogin(){
	var username = $("#userName").val();
	var password = $("#password").val();
	if(username!="" && password!=""){
		layer.msg("登录成功！");
		layer.closeAll();
	}else{
		layer.msg("用户名或密码错误！");
	}
}
</script>
</html>
